<!--
  Generated template for the RouteHomePage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header color="light" class="sec-header">
  <ion-navbar color="light">
    <ion-title>{{ route.name ? route.name : "Select a route to serve."  }}</ion-title>
       <ion-buttons end>
      <button (click)="clearRoute()" ion-button icon-only>
        Clear
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>
<core-toolbar></core-toolbar>
<div id="map_canvas" class="map_content"></div>
<ion-content no-bounce style="margin-top: 40px;" [style.height.px]="!route || !route.name || (route.stops && route.stops.length == 0) ? 500 : 110" >
  <ion-list  *ngIf="!route || !route.name || (route.stops && route.stops.length == 0)" >
      <ion-item *ngFor="let rte of routes" (click)="getRoute(rte)" >
          {{rte.name }}
      </ion-item>
    
  </ion-list>

  <button ion-button *ngIf="route && route.name &&  route.stops.length > 0" color="danger" (click)="listView(route)" full>
    LIST VIEW
  </button>
</ion-content>
<ion-footer *ngIf="route" color="dark">
  <ion-toolbar color="dark">
    <button (click)="routeAction(route)" *ngIf="route && route.stops && route.stops.length != 0" ion-button color="info" full>
      <span *ngIf="route.status == 'active'">NEXT STOP</span>
      <span *ngIf="route.status == 'pending'">START</span>
    </button>
  </ion-toolbar>
</ion-footer>
